// Test 14: Import/Export with actors and named types (no `import type`)
import { helper } from "./utils";

type UserMsg = { id: u64, name: string };
type User = { id: u64, name: string };
type NotifiedOut = { type: "notified", userId: u64 };
type CreatedOut = { type: "created", user: User };

actor notifyUser(msg: UserMsg) {
  helper(msg.id);
  const out: NotifiedOut = { type: "notified", userId: msg.id };
  emit out;
}

export { notifyUser };

actor createUser(msg: UserMsg) {
  notifyUser(msg);
  const user: User = { id: msg.id, name: msg.name };
  const out: CreatedOut = { type: "created", user };
  emit out;
}

export { createUser };
