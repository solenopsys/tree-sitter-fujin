// Test 12: Array operations inside actor
type ArrayMsg = { arr: i32[] };
type ArrayOut = { type: "array", len: i32, last: i32 | null, slice: i32[] };

actor processArray(msg: ArrayMsg) {
  const len = msg.arr.length;
  msg.arr.push(42);
  const last = msg.arr.pop();
  const slice = msg.arr.slice(0, 2);
  const out: ArrayOut = { type: "array", len, last, slice };
  emit out;
}
